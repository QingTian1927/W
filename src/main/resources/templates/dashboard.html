<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W - Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" th:href="@{/css/search_input.css}">
    <link rel="stylesheet" th:href="@{/css/colors.css}">
</head>
<body class="max-w-svw min-h-svh flex justify-end items-start bg-light-faded text-dark">
<aside class="fixed z-10 bottom-0 left-0 md:top-0 h-[10%] md:h-full w-full md:w-[30%] xl:w-[20%] p-3 flex flex-col justify-center gap-12">
    <th:block th:insert="~{fragments/sidebar}"></th:block>
</aside>
<main class="min-h-[90%] md:min-h-full w-full md:w-[70%] xl:w-[80%] p-3 pb-0 md:pb-3 flex flex-col justify-center items-center">
    <div class="grow min-h-full size-full p-6 rounded-lg shadow-md md:shadow-lg bg-lighter text-dark">
        <th:block th:insert="~{fragments/viewfeed_header}"></th:block>

        <div class="size-full mt-3 flex flex-col justify-start items-center gap-6">
            <div class="min-h-48 w-full grid grid-cols-3 gap-6">
                <div class="size-full grid grid-cols-1 md:grid-cols-2 bg-accent rounded-lg shadow-sm bg-purple-transparent">
                    <div class="size-full flex flex-col justify-center items-center">
                        <span class="mb-1 font-semibold text-darker text-4xl md:text-3xl lg:text-5xl" th:text="${@userServiceImpl.count()}">69</span>
                        <span>Users</span>
                    </div>

                    <div class="size-full flex justify-center items-center">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             class="bi bi-people-fill fill-darker size-[2.5em]" viewBox="0 0 16 16">
                            <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
                        </svg>
                    </div>
                </div>

                <div class="size-full grid grid-cols-1 md:grid-cols-2 rounded-lg shadow-sm bg-lightgreen-transparent">
                    <div class="size-full flex flex-col justify-center items-center">
                        <span class="mb-1 font-semibold text-darker text-4xl md:text-3xl lg:text-5xl" th:text="${@postServiceImpl.count()}">420</span>
                        <span>Posts</span>
                    </div>

                    <div class="size-full flex justify-center items-center">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             class="bi bi-file-richtext-fill fill-darker size-[2.5em]" viewBox="0 0 16 16">
                            <path d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M7 4.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m-.861 1.542 1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V7.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V7s1.54-1.274 1.639-1.208M5 9h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1m0 2h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1"/>
                        </svg>
                    </div>
                </div>

                <div class="size-full grid grid-cols-1 md:grid-cols-2 rounded-lg shadow-sm bg-browngreen-transparent">
                    <div class="size-full flex flex-col justify-center items-center">
                        <span class="mb-1 font-semibold text-darker text-4xl md:text-3xl lg:text-5xl"
                              th:text="${@commentServiceImpl.count()}">351</span>
                        <span>Comments</span>
                    </div>

                    <div class="size-full flex justify-center items-center">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             class="bi bi-chat-text-fill fill-darker size-[2.5em]" viewBox="0 0 16 16">
                            <path d="M16 8c0 3.866-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7M4.5 5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1zm0 2.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1zm0 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z"/>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="min-h-48 w-full grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="p-3 md:p-6 col-span-1 lg:col-span-2 size-full flex flex-col justify-center items-center rounded-lg bg-light-faded">
                    <header class="w-full min-h-12 flex justify-center items-center font-medium text-xl">
                        <h2 class="pb-1.5">Recent Posts</h2>
                    </header>
                    <table class="w-full table-fixed break-words">
                        <thead>
                        <tr>
                            <th class="w-[20%] p-1.5">User</th>
                            <th class="w-[45%] p-1.5">Content</th>
                            <th class="w-[20%] p-1.5">Date</th>
                            <th class="w-[15%] p-1.5">Option</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:if="${posts != null}" th:each="post : ${posts}">
                            <td class="p-1.5" th:text="${'@' + post.getUser().getUsername()}"></td>
                            <td class="p-1.5" th:text="${post.getContent()}"></td>
                            <td class="max-w-full p-1.5 overflow-hidden text-ellipsis"
                                th:text="${post.getCreatedDate().toString()}"></td>
                            <td class="p-1.5">
                                <button>View More</button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="p-3 md:p-6 size-full flex flex-col justify-center items-center rounded-lg bg-light-faded">
                    <header class="w-full min-h-12 flex justify-center items-center font-medium text-xl">
                        <h2 class="pb-1.5">Recent Users</h2>
                    </header>
                    <table class="w-full table-fixed break-words">
                        <thead>
                        <tr>
                            <th class="w-[30%] p-1.5">Username</th>
                            <th class="w-[35%] p-1.5">Display Name</th>
                            <th class="w-[15%] p-1.5">Age</th>
                            <th class="w-[20%] p-1.5">Option</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:if="${user != null}" th:each="user : ${users}">
                            <td class="p-1.5" th:text="${'@' + user.getUsername()}"></td>
                            <td class="p-1.5" th:text="${user.getDisplayName()}"></td>
                            <td class="max-w-full p-1.5 overflow-hidden text-ellipsis"
                                th:text="${user.getAge()}"></td>
                            <td class="p-1.5">
                                <button>View More</button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!--/* mobile layout action menu spacer */-->
    <div class="block md:hidden h-[10svh] w-full"></div>
</main>
</body>
</html>